# Spark Default Configuration
spark.master                     spark://spark-master:7077
spark.driver.memory              1g
spark.executor.memory            1g
spark.executor.cores             2
spark.serializer                 org.apache.spark.serializer.KryoSerializer
spark.sql.adaptive.enabled       true
spark.sql.adaptive.coalescePartitions.enabled true
spark.sql.adaptive.skewJoin.enabled true

# Event Logging Configuration
spark.eventLog.enabled           true
spark.eventLog.dir               /opt/spark/events
spark.history.fs.logDirectory    /opt/spark/events
spark.history.fs.update.interval 10s
spark.history.fs.cleaner.enabled true
spark.history.fs.cleaner.interval 1d
spark.history.fs.cleaner.maxAge  7d

# Warehouse Configuration
spark.sql.warehouse.dir          /opt/spark/warehouse

# Application JAR Configuration
spark.jars                       /opt/spark/apps/spark-transform-1.0.0.jar

# Logging Configuration
spark.driver.extraJavaOptions    -Dlog4j.configurationFile=/opt/bitnami/spark/conf/log4j2.properties
spark.executor.extraJavaOptions  -Dlog4j.configurationFile=/opt/bitnami/spark/conf/log4j2.properties

# Network Configuration
spark.driver.host                spark-driver
spark.driver.bindAddress         0.0.0.0
spark.driver.port                7078

# Worker Configuration
spark.worker.cleanup.enabled     true
spark.worker.cleanup.interval    1800
spark.worker.cleanup.appDataTtl  604800

# Dynamic Allocation
spark.dynamicAllocation.enabled  true
spark.dynamicAllocation.minExecutors 1
spark.dynamicAllocation.maxExecutors 10
spark.dynamicAllocation.initialExecutors 2
spark.dynamicAllocation.executorIdleTimeout 60s
spark.dynamicAllocation.schedulerBacklogTimeout 1s
